<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.article.recommend.mapper.localMapper.RecommendHistoryMapper">
	<resultMap id="BaseResultMap"
		type="com.article.recommend.entity.RecommendHistoryInfo">
		<id column="id" property="id" jdbcType="BIGINT" />
		<result column="user_id" property="userId" jdbcType="BIGINT" />
		<result column="article_id" property="articleId"
			jdbcType="BIGINT" />
	</resultMap>


	<select id="getArtilesByUserId" parameterType="java.lang.Long"
		resultType="java.lang.Long">
		select
		article_id
		FROM tb_recommend_history
		where user_id =#{userId}
	</select>



	<insert id="insertRecommendHistory">
		INSERT INTO
		tb_recommend_history(user_id,article_id)
		VALUES
		<foreach collection="articleResultVos" item="item"
			separator=",">
			(#{userId},#{item.itemID})
		</foreach>
	</insert>

</mapper>